<!DOCTYPE html [
        <!ENTITY nbsp "&#160;">
        <!ENTITY copy "&#169;">
        ]>
<html lang="de"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:hk="http://java.sun.com/jsf/composite/bookworm/hk">
<ui:composition template="hoerbuchkatalog-ui.xhtml">
    <ui:define name="container">
        <div class="leading">
            <h2 class="contentheading">Ihre Suchergebnisse</h2>
            <hk:navigation/>
            <h:form rendered="#{null != katalogsuchergebnis}">
                <p class="line15 resulttext">
                    Ihre Suche nach
                    <span class="suchbegriff">
                        <h:outputText value="#{katalogsuchergebnis.suchparameter}"/>
                    </span>
                    ergab
                    <span class="suchtreffer">
                        <h:outputText rendered="#{katalogsuchergebnis.anzahl > 0}"
                                      value="#{katalogsuchergebnis.anzahl}"/>
                        <h:outputText rendered="#{katalogsuchergebnis.anzahl == 0}"
                                      value="keine"/>
                    </span>
                    Treffer
                </p>
                <!--offset="{searchBean.paginateableSearch.offset}"-->
                <h:dataTable id="bookwormSearchResultTable"
                             styleClass="tab result-table"
                             columnClasses="result-column1,result-column2,result-column3,result-column4,result-column5"
                             rowClasses="result-row1,result-row2"
                             cellpadding="0" cellspacing="0"
                             value="#{katalogsuchergebnis.aktuelleSeite}" var="buch"
                             rows="#{katalogsuchergebnis.anzahlHoerbuecherProSeite}">
                    <h:column headerClass="result-column-header">
                        <f:facet name="header">
                            Titelnummer
                        </f:facet>
                        <h:outputText styleClass="result-column-content" value="#{buch.titelnummer}"/>
                    </h:column>
                    <h:column headerClass="result-column-header">
                        <f:facet name="header">
                            Autor
                        </f:facet>
                        <h:outputText styleClass="result-column-content" value="#{buch.autor}"/>
                    </h:column>
                    <h:column headerClass="result-column-header">
                        <f:facet name="header">
                            Titel
                        </f:facet>
                        <h:outputText styleClass="result-column-content" value="#{buch.titel}"/>
                    </h:column>
                    <h:column headerClass="result-column-header">
                        <f:facet name="header">
                            Details
                        </f:facet>
                        <h:commandLink action="#{katalogsuchergebnis.ansehen(buch)}" value="Detail"/>
                    </h:column>
                    <h:column headerClass="result-column-header">
                        <f:facet name="header">
                            Aktion
                        </f:facet>
                        <h:commandLink rendered="#{!cdWarenkorb.enthalten(buch)}"
                                       styleClass="basket-order-link post"
                                       action="#{cdWarenkorb.hinzufuegen(buch)}" value="CD bestellen">
                            <f:ajax execute="@form" render="@all"/>
                        </h:commandLink>
                        <h:commandLink rendered="#{cdWarenkorb.enthalten(buch)}"
                                       styleClass="basket-remove-link"
                                       action="#{cdWarenkorb.entfernen(buch)}"
                                       value="CD Bestellung löschen">
                            <f:ajax execute="@form" render="@all"/>
                        </h:commandLink>

                        <!--digitalWarenkorb.canBeRemovedFromBasket(buch)-->
                        <h:commandLink rendered="#{buch.downloadbar}"
                                       styleClass="basket-order-link download"
                                       action="#{digitalWarenkorb.hinzufuegen(buch)}" value="Download">
                            <f:ajax execute="@form" render="@all"/>
                        </h:commandLink>
                        <h:commandLink rendered="#{buch.downloadbar and digitalWarenkorb.enthalten(buch)}"
                                       styleClass="basket-remove-link clr"
                                       action="#{digitalWarenkorb.entfernen(buch)}"
                                       value="Aus Warenkorb löschen">
                            <f:ajax execute="@form" render="@all"/>
                        </h:commandLink>

                        <!--wishlistBean.canBePutToWishlist()-->
                        <h:commandLink
                                rendered="#{!wunschliste.enthalten(buch)}"
                                styleClass="basket-order-link wishlist"
                                action="#{wunschliste.hinzufuegen(buch)}" value="Merken">
                            <f:ajax execute="@form" render="@all"/>
                        </h:commandLink>
                        <h:commandLink
                                rendered="#{wunschliste.enthalten(buch)}"
                                styleClass="basket-remove-link clr"
                                action="#{wunschliste.entfernen(buch)}"
                                value="Aus Merkliste löschen">
                            <f:ajax execute="@form" render="@all"/>
                        </h:commandLink>
                    </h:column>
                    <f:facet name="footer">
                        <h:panelGroup>
                            <h:commandButton value="Zurück"
                                             disabled="#{!katalogsuchergebnis.vorherigeSeiteVorhanden}"
                                             action="#{katalogsuchergebnis.vorherigeSeite}"/>
                            &nbsp;Seite
                            <h:outputText value="#{katalogsuchergebnis.aktuelleSeitennummer}"/> von
                            <h:outputText value="#{katalogsuchergebnis.seitenanzahl}"/>&nbsp;
                            <h:commandButton value="Weiter"
                                             disabled="#{!katalogsuchergebnis.naechsteSeiteVorhanden}"
                                             action="#{katalogsuchergebnis.naechsteSeite}"/>
                        </h:panelGroup>
                    </f:facet>
                </h:dataTable>

            </h:form>
        </div>
        <div class="noticetext">
            <h3>Hinweise für bessere Suchergebnisse</h3>
            Die Suche findet alle Einträge die Ihren Suchbegriff enthalten - auch als Wortbestandteil.<br/>Eine Suche nach »test« findet also auch »späteste«.
        </div>
    </ui:define>
</ui:composition>
</html>
