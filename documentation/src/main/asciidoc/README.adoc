.Deployment
[source,bash,linenum]
----
cd $HOME/project
cd wbh.bookworm/hoerbuchkatalog/assembly/target
mkdir -p dist/var/hoerbuchkatalog
cd dist
cp ../../var/hoerbuchkatalog/Gesamt*.dat var/hoerbuchkatalog/Gesamt.dat
cp -r ../../src/main/resources/conf .
cp -r ../../src/main/resources/application*.yml .
#cp -r ../../../ui/src/main/resources/static .
cp -r ../../../ui/src/main/resources/templates .
JAR=wbh.bookworm.hoerbuchkatalog.assembly-LocalBuild.jar
cp ../${JAR} .
scp -Cr * root@medienhof9:/home/wbh/app/bookworm2
ssh root@medienhof9 chown -R wbh:cew /home/wbh/app/bookworm2
----

.Start (development)
[source,bash,linenum]
----
export HOERBUCHKATALOG_TEMPLATE=$(pwd)/templates
java -jar ${JAR} \
    --spring.profiles.active=production \
    --spring.config.additional-location=conf/
----

.Start (development; www.wbh-online.de)
[source,bash,linenum]
----
export JAVA_HOME=$HOME/.sdkman/candidates/java/11.0.1-open/
export PATH=$JAVA_HOME/bin:$PATH
export HOERBUCHKATALOG_TEMPLATE=$(pwd)/templates
nohup \
    java -jar wbh.bookworm.hoerbuchkatalog.assembly-LocalBuild.jar \
    --spring.profiles.active=development \
    --spring.config.additional-location=conf/ \
    2>&1 1>hoerbuchkatalog.log &
----

.Start (production; www.wbh-online.de)
[source,bash,linenum]
----
export JAVA_HOME=$HOME/.sdkman/candidates/java/11.0.1-open/
export PATH=$JAVA_HOME/bin:$PATH
export HOERBUCHKATALOG_TEMPLATE=$(pwd)/templates
nohup \
    java -jar wbh.bookworm.hoerbuchkatalog.assembly-LocalBuild.jar \
    --spring.profiles.active=production \
    --spring.config.additional-location=conf/ \
    2>&1 1>hoerbuchkatalog.log &
----

.Stop (www.wbh-online.de)
[source,bash,linenum]
----
kill $(ps ax | grep hoerbuchkatalog | grep -v grep | awk '{print $1}')
----

.Java Flight Recorder
[source,bash,linenum]
----
-Xlog:gc*=debug:file=gc.log:utctime,uptime,tid,level:filecount=10,filesize=128m
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=heapdump.hprof
-XX:StartFlightRecording=disk=true,dumponexit=true,filename=recording.jfr,maxsize=1024m,maxage=1d,settings=profile,path-to-gc-roots=true
----
